// Generated by CoffeeScript 1.10.0
(function() {
  var CloudinaryNode, cloudinary,
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  cloudinary = require('cloudinary-core');

  CloudinaryNode = (function(superClass) {
    extend(CloudinaryNode, superClass);

    function CloudinaryNode(options) {
      CloudinaryNode.__super__.constructor.call(this, options);
    }

    CloudinaryNode.BLANK = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";

    CloudinaryNode.prototype.image = function(publicId, options) {
      var classes, current_class, hidpi, ref, responsive, tag;
      tag = CloudinaryNode.__super__.image.call(this, publicId, options);
      responsive = options.responsive;
      hidpi = options.hidpi;
      if (responsive || hidpi) {
        tag.setAttr('data-src', tag.getAttr('src'));
        classes = [responsive ? 'cld-responsive' : 'cld-hidpi'];
        current_class = options['class'];
        if (current_class) {
          classes.push(current_class);
        }
        options['class'] = classes.join(' ');
        publicId = (ref = options.responsive_placeholder) != null ? ref : cloudinary.config().responsive_placeholder;
        if (publicId === 'blank') {
          publicId = cloudinary.BLANK;
        }
      }
      return CloudinaryNode.__super__.image.call(this, publicId, options).toHtml();
    };

    CloudinaryNode.prototype.video = function(publicId, options) {
      return CloudinaryNode.__super__.video.call(this, publicId, options).toHtml();
    };

    return CloudinaryNode;

  })(cloudinary.Cloudinary);

}).call(this);

//# sourceMappingURL=cloudinarynode.js.map
